{"ast":null,"code":"import contains from 'dom-helpers/contains';\nimport listen from 'dom-helpers/listen';\nimport { useCallback, useEffect, useRef } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport warning from 'warning';\nvar escapeKeyCode = 27;\n\nvar noop = function noop() {};\n\nfunction isLeftClickEvent(event) {\n  return event.button === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n/**\n * The `useRootClose` hook registers your callback on the document\n * when rendered. Powers the `<Overlay/>` component. This is used achieve modal\n * style behavior where your callback is triggered when the user tries to\n * interact with the rest of the document or hits the `esc` key.\n *\n * @param {Ref<HTMLElement>|HTMLElement} ref  The element boundary\n * @param {function} onRootClose\n * @param {object}  options\n * @param {boolean} options.disabled\n * @param {string}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\n */\n\n\nfunction useRootClose(ref, onRootClose, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      disabled = _ref.disabled,\n      _ref$clickTrigger = _ref.clickTrigger,\n      clickTrigger = _ref$clickTrigger === void 0 ? 'click' : _ref$clickTrigger;\n\n  var preventMouseRootCloseRef = useRef(false);\n  var onClose = onRootClose || noop;\n  var handleMouseCapture = useCallback(function (e) {\n    var currentTarget = ref && ('current' in ref ? ref.current : ref);\n    warning(!!currentTarget, 'RootClose captured a close event but does not have a ref to compare it to. ' + 'useRootClose(), should be passed a ref that resolves to a DOM node');\n    preventMouseRootCloseRef.current = !currentTarget || isModifiedEvent(e) || !isLeftClickEvent(e) || contains(currentTarget, e.target);\n  }, [ref]);\n  var handleMouse = useEventCallback(function (e) {\n    if (!preventMouseRootCloseRef.current) {\n      onClose(e);\n    }\n  });\n  var handleKeyUp = useEventCallback(function (e) {\n    if (e.keyCode === escapeKeyCode) {\n      onClose(e);\n    }\n  });\n  useEffect(function () {\n    if (disabled || ref == null) return undefined; // Use capture for this listener so it fires before React's listener, to\n    // avoid false positives in the contains() check below if the target DOM\n    // element is removed in the React mouse callback.\n\n    var removeMouseCaptureListener = listen(document, clickTrigger, handleMouseCapture, true);\n    var removeMouseListener = listen(document, clickTrigger, handleMouse);\n    var removeKeyupListener = listen(document, 'keyup', handleKeyUp);\n    var mobileSafariHackListeners = [];\n\n    if ('ontouchstart' in document.documentElement) {\n      mobileSafariHackListeners = [].slice.call(document.body.children).map(function (el) {\n        return listen(el, 'mousemove', noop);\n      });\n    }\n\n    return function () {\n      removeMouseCaptureListener();\n      removeMouseListener();\n      removeKeyupListener();\n      mobileSafariHackListeners.forEach(function (remove) {\n        return remove();\n      });\n    };\n  }, [ref, disabled, clickTrigger, handleMouseCapture, handleMouse, handleKeyUp]);\n}\n\nexport default useRootClose;","map":{"version":3,"sources":["/Users/apple/Desktop/WinterProjects/social-platform-donut-frontend/node_modules/react-overlays/esm/useRootClose.js"],"names":["contains","listen","useCallback","useEffect","useRef","useEventCallback","warning","escapeKeyCode","noop","isLeftClickEvent","event","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","useRootClose","ref","onRootClose","_temp","_ref","disabled","_ref$clickTrigger","clickTrigger","preventMouseRootCloseRef","onClose","handleMouseCapture","e","currentTarget","current","target","handleMouse","handleKeyUp","keyCode","undefined","removeMouseCaptureListener","document","removeMouseListener","removeKeyupListener","mobileSafariHackListeners","documentElement","slice","call","body","children","map","el","forEach","remove"],"mappings":"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","sourcesContent":["import contains from 'dom-helpers/contains';\nimport listen from 'dom-helpers/listen';\nimport { useCallback, useEffect, useRef } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport warning from 'warning';\nvar escapeKeyCode = 27;\n\nvar noop = function noop() {};\n\nfunction isLeftClickEvent(event) {\n  return event.button === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n/**\n * The `useRootClose` hook registers your callback on the document\n * when rendered. Powers the `<Overlay/>` component. This is used achieve modal\n * style behavior where your callback is triggered when the user tries to\n * interact with the rest of the document or hits the `esc` key.\n *\n * @param {Ref<HTMLElement>|HTMLElement} ref  The element boundary\n * @param {function} onRootClose\n * @param {object}  options\n * @param {boolean} options.disabled\n * @param {string}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\n */\n\n\nfunction useRootClose(ref, onRootClose, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      disabled = _ref.disabled,\n      _ref$clickTrigger = _ref.clickTrigger,\n      clickTrigger = _ref$clickTrigger === void 0 ? 'click' : _ref$clickTrigger;\n\n  var preventMouseRootCloseRef = useRef(false);\n  var onClose = onRootClose || noop;\n  var handleMouseCapture = useCallback(function (e) {\n    var currentTarget = ref && ('current' in ref ? ref.current : ref);\n    warning(!!currentTarget, 'RootClose captured a close event but does not have a ref to compare it to. ' + 'useRootClose(), should be passed a ref that resolves to a DOM node');\n    preventMouseRootCloseRef.current = !currentTarget || isModifiedEvent(e) || !isLeftClickEvent(e) || contains(currentTarget, e.target);\n  }, [ref]);\n  var handleMouse = useEventCallback(function (e) {\n    if (!preventMouseRootCloseRef.current) {\n      onClose(e);\n    }\n  });\n  var handleKeyUp = useEventCallback(function (e) {\n    if (e.keyCode === escapeKeyCode) {\n      onClose(e);\n    }\n  });\n  useEffect(function () {\n    if (disabled || ref == null) return undefined; // Use capture for this listener so it fires before React's listener, to\n    // avoid false positives in the contains() check below if the target DOM\n    // element is removed in the React mouse callback.\n\n    var removeMouseCaptureListener = listen(document, clickTrigger, handleMouseCapture, true);\n    var removeMouseListener = listen(document, clickTrigger, handleMouse);\n    var removeKeyupListener = listen(document, 'keyup', handleKeyUp);\n    var mobileSafariHackListeners = [];\n\n    if ('ontouchstart' in document.documentElement) {\n      mobileSafariHackListeners = [].slice.call(document.body.children).map(function (el) {\n        return listen(el, 'mousemove', noop);\n      });\n    }\n\n    return function () {\n      removeMouseCaptureListener();\n      removeMouseListener();\n      removeKeyupListener();\n      mobileSafariHackListeners.forEach(function (remove) {\n        return remove();\n      });\n    };\n  }, [ref, disabled, clickTrigger, handleMouseCapture, handleMouse, handleKeyUp]);\n}\n\nexport default useRootClose;"]},"metadata":{},"sourceType":"module"}